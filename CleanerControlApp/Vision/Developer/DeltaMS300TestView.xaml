<?xml version="1.0" encoding="utf-8"?>
<UserControl x:Class="CleanerControlApp.Vision.Developer.DeltaMS300TestView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="300" d:DesignWidth="600">
    <Grid Background="White" Margin="0,0,0,-328">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="215" />
            <ColumnDefinition Width="215" />
        </Grid.ColumnDefinitions>

        <TextBlock Text="Delta MS300 測試" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,12,0,0" FontSize="16" FontWeight="Bold" Grid.ColumnSpan="2" />

        <!-- Left panel: Module0 -->
        <Border x:Name="borderMS0" Grid.Column="0" Margin="12,44,6,12" Background="#FFF8F8F8" BorderBrush="#FFCCCCCC" BorderThickness="1" CornerRadius="4" Padding="8">
            <StackPanel>
                <TextBlock Text="Delta MS300 模組1" FontWeight="Bold" FontSize="14" Margin="0,0,0,8" />

                <!-- Device connection status -->
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,4,0,0">
                    <TextBlock Text="設備連線狀況" VerticalAlignment="Center" />
                    <Ellipse x:Name="ellipseMS0DeviceStatus" Width="14" Height="14" Margin="8,0,6,0" Fill="Red" Stroke="#FF888888" VerticalAlignment="Center" />
                    <TextBlock x:Name="txtMS0DeviceStatus" Text="未連線" VerticalAlignment="Center" />
                </StackPanel>

                <!-- Connect / Disconnect buttons -->
                <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                    <Button x:Name="btnMS0Open" Content="連線" Width="80" Height="26" Margin="0,0,8,0" Click="BtnMS0Open_Click" />
                    <Button x:Name="btnMS0Close" Content="離線" Width="80" Height="26" />
                </StackPanel>

                <!-- System / Running status -->
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,8,0,0">
                    <TextBlock Text="系統運作狀況" VerticalAlignment="Center" />
                    <Ellipse x:Name="ellipseMS0SystemStatus" Width="14" Height="14" Margin="8,0,6,0" Fill="Red" Stroke="#FF888888" VerticalAlignment="Center" />
                    <TextBlock x:Name="txtMS0SystemStatus" Text="未執行" VerticalAlignment="Center" />
                </StackPanel>

                <!-- Start/Stop buttons -->
                <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                    <Button x:Name="btnMS0Start" Content="開始" Width="80" Height="26" Margin="0,0,8,0" />
                    <Button x:Name="btnMS0Stop" Content="停止" Width="80" Height="26" />
                </StackPanel>

                <Separator Margin="0,10,0,8" />
                <TextBlock Text="通訊運行狀況" FontWeight="Bold" FontSize="13" Margin="0,0,0,6" />

                <!-- Diagnostics -->
                <StackPanel Margin="0,2,0,0">
                    <StackPanel Margin="2">
                        <TextBlock Text="迴圈次數" FontSize="12" />
                        <TextBlock x:Name="txtMS0LoopIterationCount" Text="-" FontWeight="Bold" Margin="0,1,0,2" />
                    </StackPanel>

                    <StackPanel Margin="2">
                        <TextBlock Text="上次迴圈耗時 (ms)" FontSize="12" />
                        <TextBlock x:Name="txtMS0LastLoopMs" Text="-" FontWeight="Bold" Margin="0,1,0,2" />
                    </StackPanel>

                    <StackPanel Margin="2">
                        <TextBlock Text="平均迴圈耗時 (ms)" FontSize="12" />
                        <TextBlock x:Name="txtMS0AvgLoopMs" Text="-" FontWeight="Bold" Margin="0,1,0,2" />
                    </StackPanel>

                    <StackPanel Margin="2">
                        <TextBlock Text="命令執行次數" FontSize="12" />
                        <TextBlock x:Name="txtMS0CmdExecCount" Text="-" FontWeight="Bold" Margin="0,1,0,2" />
                    </StackPanel>
                </StackPanel>

                <!-- First separator -->
                <Separator Margin="0,6,0,4" />

                <!-- 設備資訊 placed between the two separators -->
                <TextBlock Text="設備資訊" FontWeight="Bold" FontSize="13" Margin="0,4,0,4" />
                <Grid Margin="0,2,0,6">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="命令頻率 (Hz)" FontSize="12" />
                    <TextBlock x:Name="txtMS0FreqCommand" Grid.Row="0" Grid.Column="1" Text="-" FontWeight="Bold" Margin="2,0,0,0" />

                    <TextBlock Grid.Row="1" Grid.Column="0" Text="輸出頻率 (Hz)" FontSize="12" />
                    <TextBlock x:Name="txtMS0FreqOutput" Grid.Row="1" Grid.Column="1" Text="-" FontWeight="Bold" Margin="2,0,0,0" />

                    <TextBlock Grid.Row="2" Grid.Column="0" Text="設定頻率 (Hz)" FontSize="12" />
                    <TextBlock x:Name="txtMS0FreqSet" Grid.Row="2" Grid.Column="1" Text="-" FontWeight="Bold" HorizontalAlignment="Left" Margin="0,0,2,0" />
                </Grid>

                <!-- Input controls separated and aligned to the left edge of the Border -->
                <StackPanel Orientation="Horizontal" Margin="0,2,0,6" HorizontalAlignment="Left">
                    <TextBox x:Name="txtMS0FreqSetInput" Width="80" />
                    <Button x:Name="btnMS0FreqSetApply" Content="設定" Width="50" Height="22" Margin="6,0,0,0" Click="BtnMS0FreqSetApply_Click" />
                </StackPanel>

                <!-- Second separator -->
                <Separator Margin="0,10,0,8" />
                <TextBlock Text="診斷" FontWeight="Bold" FontSize="13" Margin="0,0,0,6" />
                <StackPanel Margin="0,2,0,0">
                    <StackPanel Margin="2">
                        <TextBlock Text="Error" FontSize="12" />
                        <TextBlock x:Name="txtMS0Error" Text="{Binding DeviceError}" FontWeight="Bold" Margin="0,1,0,2" />
                    </StackPanel>
                    <StackPanel Margin="2">
                        <TextBlock Text="Timeout" FontSize="12" />
                        <TextBlock x:Name="txtMS0Timeout" Text="{Binding DeviceTimeout}" FontWeight="Bold" Margin="0,1,0,2" />
                    </StackPanel>
                </StackPanel>

            </StackPanel>
        </Border>

        <!-- Right panel: Module1 uses the same structure as left -->
        <Border x:Name="borderMS1" Grid.Column="1" Margin="6,44,12,12" Background="#FFF8F8F8" BorderBrush="#FFCCCCCC" BorderThickness="1" CornerRadius="4" Padding="8">
            <StackPanel>
                <TextBlock Text="Delta MS300 模組2" FontWeight="Bold" FontSize="14" Margin="0,0,0,8" />

                <!-- Device connection status -->
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,4,0,0">
                    <TextBlock Text="設備連線狀況" VerticalAlignment="Center" />
                    <Ellipse x:Name="ellipseMS1DeviceStatus" Width="14" Height="14" Margin="8,0,6,0" Fill="Red" Stroke="#FF888888" VerticalAlignment="Center" />
                    <TextBlock x:Name="txtMS1DeviceStatus" Text="未連線" VerticalAlignment="Center" />
                </StackPanel>

                <!-- Connect / Disconnect buttons -->
                <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                    <Button x:Name="btnMS1Open" Content="連線" Width="80" Height="26" Margin="0,0,8,0" />
                    <Button x:Name="btnMS1Close" Content="離線" Width="80" Height="26" />
                </StackPanel>

                <!-- System / Running status -->
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,8,0,0">
                    <TextBlock Text="系統運作狀況" VerticalAlignment="Center" />
                    <Ellipse x:Name="ellipseMS1SystemStatus" Width="14" Height="14" Margin="8,0,6,0" Fill="Red" Stroke="#FF888888" VerticalAlignment="Center" />
                    <TextBlock x:Name="txtMS1SystemStatus" Text="未執行" VerticalAlignment="Center" />
                </StackPanel>

                <!-- Start/Stop buttons -->
                <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                    <Button x:Name="btnMS1Start" Content="開始" Width="80" Height="26" Margin="0,0,8,0" />
                    <Button x:Name="btnMS1Stop" Content="停止" Width="80" Height="26" />
                </StackPanel>

                <Separator Margin="0,10,0,8" />
                <TextBlock Text="通訊運行狀況" FontWeight="Bold" FontSize="13" Margin="0,0,0,6" />

                <!-- Diagnostics -->
                <StackPanel Margin="0,2,0,0">
                    <StackPanel Margin="2">
                        <TextBlock Text="迴圈次數" FontSize="12" />
                        <TextBlock x:Name="txtMS1LoopIterationCount" Text="-" FontWeight="Bold" Margin="0,1,0,2" />
                    </StackPanel>

                    <StackPanel Margin="2">
                        <TextBlock Text="上次迴圈耗時 (ms)" FontSize="12" />
                        <TextBlock x:Name="txtMS1LastLoopMs" Text="-" FontWeight="Bold" Margin="0,1,0,2" />
                    </StackPanel>

                    <StackPanel Margin="2">
                        <TextBlock Text="平均迴圈耗時 (ms)" FontSize="12" />
                        <TextBlock x:Name="txtMS1AvgLoopMs" Text="-" FontWeight="Bold" Margin="0,1,0,2" />
                    </StackPanel>

                    <StackPanel Margin="2">
                        <TextBlock Text="命令執行次數" FontSize="12" />
                        <TextBlock x:Name="txtMS1CmdExecCount" Text="-" FontWeight="Bold" Margin="0,1,0,2" />
                    </StackPanel>
                </StackPanel>

                <!-- First separator -->
                <Separator Margin="0,6,0,4" />

                <!-- 設備資訊 placed between the two separators -->
                <TextBlock Text="設備資訊" FontWeight="Bold" FontSize="13" Margin="0,4,0,4" />
                <Grid Margin="0,2,0,6">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="命令頻率 (Hz)" FontSize="12" />
                    <TextBlock x:Name="txtMS1FreqCommand" Grid.Row="0" Grid.Column="1" Text="-" FontWeight="Bold" Margin="2,0,0,0" />

                    <TextBlock Grid.Row="1" Grid.Column="0" Text="輸出頻率 (Hz)" FontSize="12" />
                    <TextBlock x:Name="txtMS1FreqOutput" Grid.Row="1" Grid.Column="1" Text="-" FontWeight="Bold" Margin="2,0,0,0" />

                    <TextBlock Grid.Row="2" Grid.Column="0" Text="設定頻率 (Hz)" FontSize="12" />
                    <TextBlock x:Name="txtMS1FreqSet" Grid.Row="2" Grid.Column="1" Text="-" FontWeight="Bold" HorizontalAlignment="Left" Margin="0,0,2,0" />
                </Grid>

                <!-- Input controls separated and aligned to the left edge of the Border -->
                <StackPanel Orientation="Horizontal" Margin="0,2,0,6" HorizontalAlignment="Left">
                    <TextBox x:Name="txtMS1FreqSetInput" Width="80" />
                    <Button x:Name="btnMS1FreqSetApply" Content="設定" Width="50" Height="22" Margin="6,0,0,0" Click="BtnMS1FreqSetApply_Click" />
                </StackPanel>

                <!-- Second separator -->
                <Separator Margin="0,10,0,8" />
                <TextBlock Text="診斷" FontWeight="Bold" FontSize="13" Margin="0,0,0,6" />
                <StackPanel Margin="0,2,0,0">
                    <StackPanel Margin="2">
                        <TextBlock Text="Error" FontSize="12" />
                        <TextBlock x:Name="txtMS1Error" Text="{Binding DeviceError}" FontWeight="Bold" Margin="0,1,0,2" />
                    </StackPanel>
                    <StackPanel Margin="2">
                        <TextBlock Text="Timeout" FontSize="12" />
                        <TextBlock x:Name="txtMS1Timeout" Text="{Binding DeviceTimeout}" FontWeight="Bold" Margin="0,1,0,2" />
                    </StackPanel>
                </StackPanel>

            </StackPanel>
        </Border>

    </Grid>
</UserControl>